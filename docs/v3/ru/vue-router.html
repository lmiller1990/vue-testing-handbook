<!DOCTYPE html>
<html lang="ru-UA">
  <head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width,initial-scale=1">
    <title>–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (Vue.js 3)</title>
    <meta name="description" content="">
    <link rel="icon" href="https://lmiller1990.github.io/vue-testing-handbook/img/favicon.png">
  <meta property="og:title" content="Vue Testing Handbook">
  <meta property="og:description" content="Vue testing handbook">
  <meta property="og:type" content="website">
  <meta property="og:url" content="https://lmiller1990.github.io/vue-testing-handbook/">
  <meta property="og:image" content="https://lmiller1990.github.io/vue-testing-handbook/img/og.png">
    
    <link rel="preload" href="/vue-testing-handbook/assets/css/0.styles.99f2ca3b.css" as="style"><link rel="preload" href="/vue-testing-handbook/assets/js/app.292bf6c3.js" as="script"><link rel="preload" href="/vue-testing-handbook/assets/js/3.bc1b40f4.js" as="script"><link rel="preload" href="/vue-testing-handbook/assets/js/2.f869874b.js" as="script"><link rel="preload" href="/vue-testing-handbook/assets/js/102.78757d8c.js" as="script"><link rel="prefetch" href="/vue-testing-handbook/assets/js/10.25d0c812.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/100.60db6a6e.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/101.e97f03f1.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/103.4c3fdd56.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/104.9dcc083f.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/105.3c90a035.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/106.e69602cd.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/107.f31fe112.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/108.d474a101.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/109.fb8e4381.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/11.70c52248.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/110.9899b269.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/111.89c14f05.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/112.fa134853.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/113.200c590c.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/114.debe7b7e.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/115.173c88d4.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/116.0d375893.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/117.f25eff15.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/118.fe4d299c.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/119.d7823a42.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/12.5bc2009f.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/120.33f959db.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/121.67d29be3.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/122.4deda3a5.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/123.6af7a003.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/124.16e7a88e.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/125.5b8d8ded.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/126.7d17c198.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/127.f99a4c04.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/128.f0b12180.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/129.91445de9.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/13.6f69f89b.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/130.07633223.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/131.31c00ced.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/132.847a5dc1.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/133.b009ddea.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/134.e8ec5bf0.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/135.2e1255c2.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/136.24d7b2ec.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/137.150ba9bb.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/138.db701ce6.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/139.e6f64ed9.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/14.bc3cfeeb.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/140.6eb95c31.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/141.d2163430.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/142.7a0202a2.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/143.7f2cb22d.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/144.c69a73ac.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/15.ec137cb8.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/16.9e1d398c.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/17.0aebd7b0.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/18.b6c257a5.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/19.c4652ef6.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/20.0aeba6e8.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/21.23eb32bb.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/22.3c376205.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/23.fa4ddeb6.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/24.60269d7b.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/25.00250a35.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/26.938fd9b6.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/27.24b71d05.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/28.daa69ad2.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/29.dbe92788.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/30.400027e5.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/31.27182811.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/32.11b7e054.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/33.bf363c31.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/34.779ff946.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/35.cddbb3ae.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/36.334ebc4a.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/37.a02e83c0.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/38.2f0c88b0.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/39.1d57ed11.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/4.991f7431.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/40.e89b83bd.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/41.1943d2c1.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/42.74b7e3a5.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/43.aa172631.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/44.b2808a87.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/45.0740ca4d.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/46.518ed697.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/47.7515bc71.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/48.703a92e5.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/49.9d176191.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/5.bb45a9d8.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/50.c23e83b4.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/51.49c1f5c9.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/52.385d1553.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/53.607499be.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/54.441401c2.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/55.41bd9b35.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/56.7ffaa082.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/57.7acd5a79.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/58.720b85a3.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/59.046669fe.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/6.5130651a.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/60.d10556c5.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/61.4e9de89e.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/62.1f0e9dd5.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/63.ccc303a6.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/64.dba849bb.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/65.9a3985fe.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/66.5d46417e.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/67.76ef1ea9.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/68.a802bc75.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/69.eab1fff8.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/7.736d4b09.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/70.05e3e91a.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/71.d433c745.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/72.e156d708.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/73.edeb3e6e.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/74.59a869d0.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/75.60fcf221.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/76.c86534c4.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/77.2ba0254c.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/78.c5a9bf2b.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/79.e251837b.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/8.b0e401f3.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/80.bdf4742f.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/81.e47ddf38.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/82.500a389b.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/83.9aad7de3.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/84.567f2a5a.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/85.820b342b.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/86.b590f517.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/87.e4373a8f.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/88.a34fb460.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/89.2ed94ade.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/9.0c60786a.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/90.fb650954.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/91.42b7aca7.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/92.6a35da6e.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/93.a7d71c17.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/94.d6586c22.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/95.6ffc114b.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/96.2aebd78e.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/97.048eb2a9.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/98.45250c47.js"><link rel="prefetch" href="/vue-testing-handbook/assets/js/99.d513795a.js">
    <link rel="stylesheet" href="/vue-testing-handbook/assets/css/0.styles.99f2ca3b.css">
  </head>
  <body>
    <div id="app" data-server-rendered="true"><div class="theme-container"><header class="navbar"><div class="sidebar-button"><svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" role="img" viewBox="0 0 448 512" class="icon"><path fill="currentColor" d="M436 124H12c-6.627 0-12-5.373-12-12V80c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12zm0 160H12c-6.627 0-12-5.373-12-12v-32c0-6.627 5.373-12 12-12h424c6.627 0 12 5.373 12 12v32c0 6.627-5.373 12-12 12z"></path></svg></div> <a href="/vue-testing-handbook/v3/ru/" class="home-link router-link-active"><!----> <span class="site-name">–†—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –ø–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—é Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π (Vue.js 3)</span></a> <div class="links"><div class="search-box"><input aria-label="Search" autocomplete="off" spellcheck="false" value=""> <!----></div> <nav class="nav-links can-hide"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">–ü–µ—Ä–µ–≤–æ–¥—ã</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/vue-router.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/v3/vue-router.html" class="nav-link">v3</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/ja/vue-router.html" class="nav-link">Êó•Êú¨Ë™û</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/ru/vue-router.html" class="nav-link">–†—É—Å—Å–∫–∏–π (Vue.js 2)</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/v3/ru/vue-router.html" class="nav-link router-link-exact-active router-link-active">–†—É—Å—Å–∫–∏–π (Vue.js 3)</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/zh-CN/vue-router.html" class="nav-link">ÁÆÄ‰Ωì‰∏≠Êñá</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/ko/vue-router.html" class="nav-link">ÌïúÍµ≠Ïñ¥</a></li></ul></div></div> <a href="https://github.com/lmiller1990/vue-testing-handbook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav></div></header> <div class="sidebar-mask"></div> <aside class="sidebar"><a href="https://lachlan-miller.me/design-patterns-for-vuejs/" target="_blank"><img id="ad" src="https://raw.githubusercontent.com/lmiller1990/vue-testing-handbook/master/src/.vuepress/public/mini.png" alt="banner" style="border: 1px solid rgba(0,0,0,0.5);"></a> <br> <div class="info"><small>
    Get $5 off my new book,
    <a href="https://lachlan-miller.me/design-patterns-for-vuejs" target="_blank"><em>Design</em></a> <a href="https://lachlan-miller.me/design-patterns-for-vuejs" target="_blank"><em>Patterns</em></a> <a href="https://lachlan-miller.me/design-patterns-for-vuejs" target="_blank"><em>for</em></a> <a href="https://lachlan-miller.me/design-patterns-for-vuejs" target="_blank"><em>Vue.js</em></a> <a href="https://lachlan-miller.me/design-patterns-for-vuejs" target="_blank"><em>a test driven</em></a> <a href="https://lachlan-miller.me/design-patterns-for-vuejs" target="_blank"><em>approach to</em></a> <a href="https://lachlan-miller.me/design-patterns-for-vuejs" target="_blank"><em>maintainable</em></a> <a href="https://lachlan-miller.me/design-patterns-for-vuejs" target="_blank"><em>applications</em>,</a>
    with <b>DESIGN_5_OFF</b> at the discount. üéâ
    </small></div> <nav class="nav-links"><div class="nav-item"><div class="dropdown-wrapper"><button type="button" aria-label="Select language" class="dropdown-title"><span class="title">–ü–µ—Ä–µ–≤–æ–¥—ã</span> <span class="arrow right"></span></button> <ul class="nav-dropdown" style="display:none;"><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/vue-router.html" class="nav-link">English</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/v3/vue-router.html" class="nav-link">v3</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/ja/vue-router.html" class="nav-link">Êó•Êú¨Ë™û</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/ru/vue-router.html" class="nav-link">–†—É—Å—Å–∫–∏–π (Vue.js 2)</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/v3/ru/vue-router.html" class="nav-link router-link-exact-active router-link-active">–†—É—Å—Å–∫–∏–π (Vue.js 3)</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/zh-CN/vue-router.html" class="nav-link">ÁÆÄ‰Ωì‰∏≠Êñá</a></li><li class="dropdown-item"><!----> <a href="/vue-testing-handbook/ko/vue-router.html" class="nav-link">ÌïúÍµ≠Ïñ¥</a></li></ul></div></div> <a href="https://github.com/lmiller1990/vue-testing-handbook" target="_blank" rel="noopener noreferrer" class="repo-link">
    GitHub
    <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a></nav>  <ul class="sidebar-links"><li><a href="/vue-testing-handbook/v3/ru/" class="sidebar-link">–í–≤–µ–¥–µ–Ω–∏–µ</a></li><li><a href="/vue-testing-handbook/v3/ru/setting-up-for-tdd.html" class="sidebar-link">–ü–æ–¥–≥–æ—Ç–æ–≤–∫–∞ –∫ TDD</a></li><li><a href="/vue-testing-handbook/v3/ru/rendering-a-component.html" class="sidebar-link">–û—Ç—Ä–∏—Å–æ–≤–∫–∞ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></li><li><a href="/vue-testing-handbook/v3/ru/components-with-props.html" class="sidebar-link">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –≤—Ö–æ–¥–Ω—ã—Ö –ø–∞—Ä–∞–º–µ—Ç—Ä–æ–≤</a></li><li><a href="/vue-testing-handbook/v3/ru/computed-properties.html" class="sidebar-link">–í—ã—á–∏—Å–ª—è–µ–º—ã–µ —Å–≤–æ–π—Å—Ç–≤–∞</a></li><li><a href="/vue-testing-handbook/v3/ru/simulating-user-input.html" class="sidebar-link">–°–∏–º—É–ª–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–æ–≥–æ –≤–≤–æ–¥–∞</a></li><li><a href="/vue-testing-handbook/v3/ru/testing-emitted-events.html" class="sidebar-link">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å—Å–∫–∏—Ö —Å–æ–±—ã—Ç–∏–π</a></li><li><a href="/vue-testing-handbook/v3/ru/mocking-global-objects.html" class="sidebar-link">–ú–æ–∫–∞–µ–º –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã</a></li><li><a href="/vue-testing-handbook/v3/ru/stubbing-components.html" class="sidebar-link">–ó–∞–≥–ª—É—à–∫–∏ –¥–ª—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></li><li><a href="/vue-testing-handbook/v3/ru/finding-elements-and-components.html" class="sidebar-link">–ü–æ–∏—Å–∫ —ç–ª–µ–º–µ–Ω—Ç–æ–≤ –∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></li><li><a href="/vue-testing-handbook/v3/ru/testing-vuex.html" class="sidebar-link">–¢–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ Vuex</a></li><li><a href="/vue-testing-handbook/v3/ru/vuex-mutations.html" class="sidebar-link">Vuex - –ú—É—Ç–∞—Ü–∏–∏</a></li><li><a href="/vue-testing-handbook/v3/ru/vuex-actions.html" class="sidebar-link">Vuex - –î–µ–π—Å—Ç–≤–∏—è</a></li><li><a href="/vue-testing-handbook/v3/ru/vuex-getters.html" class="sidebar-link">Vuex - –ì–µ—Ç—Ç–µ—Ä—ã</a></li><li><a href="/vue-testing-handbook/v3/ru/vuex-in-components.html" class="sidebar-link">Vuex –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö - $state –∏ –≥–µ—Ç—Ç–µ—Ä—ã</a></li><li><a href="/vue-testing-handbook/v3/ru/vuex-in-components-mutations-and-actions.html" class="sidebar-link">Vuex –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö - –º—É—Ç–∞—Ü–∏–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è</a></li><li><a href="/vue-testing-handbook/v3/ru/vue-router.html" class="active sidebar-link">Vue Router</a><ul class="sidebar-sub-headers"><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#vue-router" class="sidebar-link">Vue Router</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#—Å–æ–∑–¥–∞–Ω–∏–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤" class="sidebar-link">–°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#—Å–æ–∑–¥–∞–Ω–∏–µ-—Ä–æ—É—Ç–µ—Ä–∞-–∏-–º–∞—Ä—à—Ä—É—Ç–æ–≤" class="sidebar-link">–°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#–Ω–∞–ø–∏—Å–∞–Ω–∏–µ-—Ç–µ—Å—Ç–∞" class="sidebar-link">–ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#–æ–±—Ö–æ–¥-–æ—Ç—Ä–∏—Å–æ–≤–∫–∏-–±–æn—å—à–æ–≥–æ-–¥–µ—Ä–µ–≤–∞-–ø—Ä–∏-–∏—Å–ø–æn—å–∑–æ–≤–∞–Ω–∏–∏-mount" class="sidebar-link">–û–±—Ö–æ–¥ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –±–æ–ª—å—à–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ mount</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#–∏—Å–ø–æn—å–∑—É–µ–º-–º–æ–∫-–¥n—è-—Ä–æ—É—Ç–µ—Ä–∞" class="sidebar-link">–ò—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–∫ –¥–ª—è —Ä–æ—É—Ç–µ—Ä–∞</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-–¥n—è-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-—Ä–æ—É—Ç–µ—Ä-—Ö—É–∫–æ–≤" class="sidebar-link">–°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–æ—É—Ç–µ—Ä —Ö—É–∫–æ–≤</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#–≥n–æ–±–∞n—å–Ω—ã–µ-—Ö—É–∫–∏-–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è-–ø–µ—Ä–µ—Ö–æ–¥–∞" class="sidebar-link">–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#—Ö—É–∫–∏-–¥n—è-–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤" class="sidebar-link">–•—É–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</a></li><li class="sidebar-sub-header"><a href="/vue-testing-handbook/v3/ru/vue-router.html#–∑–∞–∫n—é—á–µ–Ω–∏–µ" class="sidebar-link">–ó–∞–∫–ª—é—á–µ–Ω–∏–µ</a></li></ul></li><li><a href="/vue-testing-handbook/v3/ru/composition-api.html" class="sidebar-link">Composition API</a></li><li><a href="/vue-testing-handbook/v3/ru/reducing-boilerplate-in-tests.html" class="sidebar-link">–£–º–µ–Ω—å—à–∞–µ–º —à–∞–±–ª–æ–Ω–Ω—ã–π –∫–æ–¥</a></li><li><a href="/vue-testing-handbook/v3/ru/jest-mocking-modules.html" class="sidebar-link">Jest - –º–æ–∫–∞–µ–º –º–æ–¥—É–ª–∏</a></li></ul> </aside> <main class="page"> <div class="theme-default-content content__default"><div class="custom-block tip"><p class="custom-block-title">–≠—Ç–æ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ –±—ã–ª–æ –Ω–∞–ø–∏—Å–∞–Ω–æ –¥–ª—è Vue.js 3 –∏ Vue Test Utils v2.</p> <p>–í–µ—Ä—Å–∏—è –¥–ª—è Vue.js 2 <a href="/ru">–∑–¥–µ—Å—å</a>.</p></div> <h2 id="vue-router"><a href="#vue-router" class="header-anchor">#</a> Vue Router</h2> <p>–¢–∞–∫ –∫–∞–∫ —Ä–æ—É—Ç–µ—Ä –æ–±—ã—á–Ω–æ –≤–∫–ª—é—á–∞–µ—Ç –≤ —Å–µ–±—è –Ω–µ—Å–∫–æ–ª—å–∫–æ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ä–∞–±–æ—Ç–∞—é—â–∏—Ö –≤–º–µ—Å—Ç–µ, —Ç–µ—Å—Ç—ã –¥–ª—è —Ä–æ—É—Ç–µ—Ä–∞ –∑–∞–Ω–∏–º–∞—é—Ç –º–µ—Å—Ç–æ –≤ <a href="https://medium.freecodecamp.org/the-front-end-test-pyramid-rethink-your-testing-3b343c2bca51" target="_blank" rel="noopener noreferrer">–ø–∏—Ä–∞–º–∏–¥–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> –Ω–∞ —É—Ä–æ–≤–Ω–µ e2e/–∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ, –∏–º–µ—Ç—å –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤–æ–∫—Ä—É–≥ —Ä–æ—É—Ç–∏–Ω–≥–∞ –Ω–µ –ø–æ–º–µ—à–∞–µ—Ç.</p> <p>–ö–∞–∫ –æ–±—Å—É–∂–¥–∞–ª–æ—Å—å –≤ –ø—Ä–µ–¥—ã–¥—É—â–∏—Ö —Å–µ–∫—Ü–∏—è—Ö, –µ—Å—Ç—å –¥–≤–∞ —Å–ø–æ—Å–æ–±–∞ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ —Ä–∞–±–æ—Ç–∞—é—Ç —Å —Ä–æ—É—Ç–µ—Ä–æ–º:</p> <ol><li>–∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–æ—É—Ç–µ—Ä–∞</li> <li>–∑–∞–º–æ–∫–∞—Ç—å –≥–ª–æ–±–∞–ª—å–Ω—ã–µ –æ–±—ä–µ–∫—Ç—ã <code>$route</code> –∏ <code>$router</code></li></ol> <p>–¢–∞–∫ –∫–∞–∫ –±–æ–ª—å—à–∏–Ω—Å—Ç–≤–æ Vue –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–π –∏—Å–ø–æ–ª—å–∑—É–µ—Ç –æ—Ñ–∏—Ü–∏–∞–ª—å–Ω—É—é –±–∏–±–ª–∏–æ—Ç–µ–∫—É Vue Router, –≤ —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ —Ñ–æ–∫—É—Å–∏—Ä—É–µ–º—Å—è –Ω–∞ –Ω–µ–π.</p> <p>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ <a href="https://github.com/lmiller1990/vue-testing-handbook/tree/master/demo-app-vue-3/tests/unit/App.spec.js" target="_blank" rel="noopener noreferrer">–∑–¥–µ—Å—å<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> –∏ <a href="https://github.com/lmiller1990/vue-testing-handbook/tree/master/demo-app-vue-3/tests/unit/NestedRoute.spec.js" target="_blank" rel="noopener noreferrer">–∑–¥–µ—Å—å<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p> <h2 id="—Å–æ–∑–¥–∞–Ω–∏–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"><a href="#—Å–æ–∑–¥–∞–Ω–∏–µ-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤" class="header-anchor">#</a> –°–æ–∑–¥–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h2> <p>–°–æ–∑–¥–∞–¥–∏–º –ø—Ä–æ—Å—Ç–æ–π <code>&lt;App&gt;</code>, —É –∫–æ—Ç–æ—Ä–æ–≥–æ –µ—Å—Ç—å –ø—É—Ç—å <code>/nested-child</code>. –ü–µ—Ä–µ–π–¥—è –Ω–∞ <code>/nested-child</code>, –±—É–¥–µ—Ç –æ—Ç—Ä–∏—Å–æ–≤–∞–Ω –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <code>&lt;NestedRoute&gt;</code>. –°–¥–µ–ª–∞–µ–º —Ñ–∞–π–ª <code>App.vue</code> –∏ –≤—Å—Ç–∞–≤–∏–º —Å–ª–µ–¥—É—é—â–∏–π –º–∏–Ω–∏–º–∞–ª—å–Ω—ã–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">id</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>app<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>router-view</span> <span class="token punctuation">/&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">'app'</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p><code>&lt;NestedRoute&gt;</code> —Ç–∞–∫–∂–µ –º–∏–Ω–∏–º–∞–ª–µ–Ω:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>–í–Ω—É—Ç—Ä–µ–Ω–Ω–∏–π –º–∞—Ä—à—Ä—É—Ç<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>

<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;NestedRoute&quot;</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><h2 id="—Å–æ–∑–¥–∞–Ω–∏–µ-—Ä–æ—É—Ç–µ—Ä–∞-–∏-–º–∞—Ä—à—Ä—É—Ç–æ–≤"><a href="#—Å–æ–∑–¥–∞–Ω–∏–µ-—Ä–æ—É—Ç–µ—Ä–∞-–∏-–º–∞—Ä—à—Ä—É—Ç–æ–≤" class="header-anchor">#</a> –°–æ–∑–¥–∞–Ω–∏–µ —Ä–æ—É—Ç–µ—Ä–∞ –∏ –º–∞—Ä—à—Ä—É—Ç–æ–≤</h2> <p>–¢–µ–ø–µ—Ä—å –Ω–∞–º –Ω—É–∂–Ω–æ –Ω–µ—Å–∫–æ–ª—å–∫–æ –º–∞—Ä—à—Ä—É—Ç–æ–≤ –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è. –î–∞–≤–∞–π—Ç–µ –Ω–∞—á–Ω—ë–º —Å —Ç–∞–∫–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> NestedRoute <span class="token keyword">from</span> <span class="token string">&quot;@/components/NestedRoute.vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span> path<span class="token punctuation">:</span> <span class="token string">&quot;/nested-route&quot;</span><span class="token punctuation">,</span> component<span class="token punctuation">:</span> NestedRoute <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>–í –Ω–∞—Å—Ç–æ—è—â–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–∏, –≤—ã –æ–±—ã—á–Ω–æ —Å–æ–∑–¥–∞—ë—Ç–µ —Ñ–∞–π–ª <code>router.js</code> –∏ –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ—Ç–µ –≤—Å–µ —Å–æ–∑–¥–∞–Ω–Ω—ã–µ –º–∞—Ä—à—Ä—É—Ç—ã, –∞ –º—ã –Ω–∞–ø–∏—à–µ–º —Ç–∞–∫:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createApp <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">&quot;./routes.js&quot;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">'./App.vue'</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span>
  routes
<span class="token punctuation">}</span><span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">use</span><span class="token punctuation">(</span>router<span class="token punctuation">)</span>
app<span class="token punctuation">.</span><span class="token function">mount</span><span class="token punctuation">(</span><span class="token string">&quot;#app&quot;</span><span class="token punctuation">)</span>
</code></pre></div><p>–ü–æ—Å—Ç—É–ø–∏–º —Ç–∞–∫ –∂–µ, –∫–∞–∫ –∏ —Å Vuex ‚Äì —Å–æ–∑–¥–∞–¥–∏–º –æ—Ç–¥–µ–ª—å–Ω—ã–π —Ä–æ—É—Ç–µ—Ä –¥–ª—è –∫–∞–∂–¥–æ–≥–æ —Ç–µ—Å—Ç–∞. –≠—Ç–æ –¥–∞—Å—Ç –Ω–∞–º –±–æ–ª—å—à–µ –∫–æ–Ω—Ç—Ä–æ–ª—è –Ω–∞–¥ —Å–æ—Å—Ç–æ—è–Ω–∏–µ–º –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è –≤ —Ç–µ—á–µ–Ω–∏–µ –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è.</p> <h2 id="–Ω–∞–ø–∏—Å–∞–Ω–∏–µ-—Ç–µ—Å—Ç–∞"><a href="#–Ω–∞–ø–∏—Å–∞–Ω–∏–µ-—Ç–µ—Å—Ç–∞" class="header-anchor">#</a> –ù–∞–ø–∏—Å–∞–Ω–∏–µ —Ç–µ—Å—Ç–∞</h2> <p>–î–∞–≤–∞–π—Ç–µ –ø–æ—Å–º–æ—Ç—Ä–∏–º –Ω–∞ –∫–æ–¥, –∞ –∑–∞—Ç–µ–º –æ–±—Å—É–¥–∏–º, —á—Ç–æ –æ–Ω –¥–µ–ª–∞–µ—Ç. –ú—ã —Ç–µ—Å—Ç–∏—Ä—É–µ–º <code>App.vue</code>, –ø–æ—ç—Ç–æ–º—É –≤ <code>App.spec.js</code> –Ω–∞–ø–∏—à–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@vue/test-utils&quot;</span>
<span class="token keyword">import</span> App <span class="token keyword">from</span> <span class="token string">&quot;@/src/App.vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createMemoryHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span>
<span class="token keyword">import</span> NestedRoute <span class="token keyword">from</span> <span class="token string">&quot;@/src/components/NestedRoute.vue&quot;</span>
<span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">&quot;@/src/routes.js&quot;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;App&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;–æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –¥–æ—á–µ—Ä–Ω–∏–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç —Å –ø–æ–º–æ—â—å—é —Ä–æ—É—Ç–∏–Ω–≥–∞&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
      history<span class="token punctuation">:</span> <span class="token function">createMemoryHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
      routes 
    <span class="token punctuation">}</span><span class="token punctuation">)</span>
    router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;/nested-route&quot;</span><span class="token punctuation">)</span>
    <span class="token keyword">await</span> router<span class="token punctuation">.</span><span class="token function">isReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>App<span class="token punctuation">,</span> <span class="token punctuation">{</span> 
      global<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        plugins<span class="token punctuation">:</span> <span class="token punctuation">[</span>router<span class="token punctuation">]</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span><span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">findComponent</span><span class="token punctuation">(</span>NestedRoute<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">exists</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span><span class="token boolean">true</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><div class="custom-block warning"><p class="custom-block-title">WARNING</p> <p>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ, —á—Ç–æ —Ç–µ—Å—Ç—ã –ø–æ–º–µ—á–µ–Ω—ã –∫–∞–∫ <code>await</code> –∏ –≤—ã–∑—ã–≤–∞—é—Ç<code>nextTick</code>. –°–º–æ—Ç—Ä–∏—Ç–µ <a href="/vue-testing-handbook/v3/ru/simulating-user-input.html#writing-the-test">–∑–¥–µ—Å—å</a> –¥–ª—è –ø–æ–ª—É—á–µ–Ω–∏—è –¥–æ–ø–æ–ª–Ω–∏—Ç–µ–ª—å–Ω–æ–π –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏–∏ –æ —Ç–æ–º, –ø–æ—á–µ–º—É.</p></div> <p>–ö–∞–∫ –æ–±—ã—á–Ω–æ, –º—ã –Ω–∞—á–∏–Ω–∞–µ–º —Å –∏–º–ø–æ—Ä—Ç–∞ —Ä–∞–∑–ª–∏—á–Ω—ã—Ö –º–æ–¥—É–ª–µ–π –¥–ª—è —Ç–µ—Å—Ç–∞. –í —á–∞—Å—Ç–Ω–æ—Å—Ç–∏, –º—ã –∏–º–ø–æ—Ä—Ç–∏—Ä—É–µ–º –Ω–∞—Å—Ç–æ—è—â–∏–µ –º–∞—Ä—à—Ä—É—Ç—ã, –∫–æ—Ç–æ—Ä—ã–µ –±—É–¥–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –¥–ª—è –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è. –í –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö - —ç—Ç–æ –∏–¥–µ–∞–ª—å–Ω–æ: –µ—Å–ª–∏ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ä–æ—É—Ç–µ—Ä —Å–ª–æ–º–∞–µ—Ç—Å—è, –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã —Ç–∞–∫–∂–µ –Ω–µ –ø—Ä–æ–π–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–∫—É, —á—Ç–æ –¥–∞—Å—Ç –Ω–∞–º –≤–æ–∑–º–æ–∂–Ω–æ—Å—Ç—å –ø–æ–ø—Ä–∞–≤–∏—Ç—å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏–µ –ø–µ—Ä–µ–¥ —Ä–∞–∑–≤—ë—Ä—Ç—ã–≤–∞–Ω–∏–µ–º.</p> <p>–ï—â—ë –æ–¥–∏–Ω –∏–Ω—Ç–µ—Ä–µ—Å–Ω—ã–π –º–æ–º–µ–Ω—Ç. –ü–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –º—ã –¥–µ–ª–∞–µ–º —Å–ª–µ–¥—É—é—â–µ–µ:</p> <div class="language-js extra-class"><pre class="language-js"><code>router<span class="token punctuation">.</span><span class="token function">push</span><span class="token punctuation">(</span><span class="token string">&quot;/nested-route&quot;</span><span class="token punctuation">)</span>
<span class="token keyword">await</span> router<span class="token punctuation">.</span><span class="token function">isReady</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
</code></pre></div><p>Vue Router 4 (—Ç–æ—Ç, –∫–æ—Ç–æ—Ä—ã–π —Ä–∞–±–æ—Ç–∞–µ—Ç —Å Vue 3) –∏–º–µ–µ—Ç –∞—Å–∏–Ω—Ö—Ä–æ–Ω–Ω—É—é –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏—é. –≠—Ç–æ –æ–∑–Ω–∞—á–∞–µ—Ç, —á—Ç–æ –ø–µ—Ä–µ–¥ —É—Å—Ç–∞–Ω–æ–≤–∫–æ–π –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞ –Ω–∞–º –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ä–æ—É—Ç–µ—Ä –∑–∞–≤–µ—Ä—à–∏–ª –Ω–∞—á–∞–ª—å–Ω—ã–π –ø–µ—Ä–µ—Ö–æ–¥. –≠—Ç–æ –ª–µ–≥–∫–æ —Å–¥–µ–ª–∞—Ç—å —Å –ø–æ–º–æ—â—å—é <code>await router.isReady()</code>.</p> <p>–û–±—Ä–∞—Ç–∏—Ç–µ –≤–Ω–∏–º–∞–Ω–∏–µ –Ω–∞ —Ç–æ, —á—Ç–æ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º <code>mount</code>. –ï—Å–ª–∏ –º—ã –∏—Å–ø–æ–ª—å–∑—É–µ–º <code>shallowMount</code>, —Ç–æ –≤–º–µ—Å—Ç–æ <code>&lt;router-link&gt;</code> –±—É–¥–µ—Ç –∑–∞–≥–ª—É—à–∫–∞.</p> <h2 id="–æ–±—Ö–æ–¥-–æ—Ç—Ä–∏—Å–æ–≤–∫–∏-–±–æn—å—à–æ–≥–æ-–¥–µ—Ä–µ–≤–∞-–ø—Ä–∏-–∏—Å–ø–æn—å–∑–æ–≤–∞–Ω–∏–∏-mount"><a href="#–æ–±—Ö–æ–¥-–æ—Ç—Ä–∏—Å–æ–≤–∫–∏-–±–æn—å—à–æ–≥–æ-–¥–µ—Ä–µ–≤–∞-–ø—Ä–∏-–∏—Å–ø–æn—å–∑–æ–≤–∞–Ω–∏–∏-mount" class="header-anchor">#</a> –û–±—Ö–æ–¥ –æ—Ç—Ä–∏—Å–æ–≤–∫–∏ –±–æ–ª—å—à–æ–≥–æ –¥–µ—Ä–µ–≤–∞ –ø—Ä–∏ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–∏ <code>mount</code></h2> <p>–ò—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>mount</code> —Ö–æ—Ä–æ—à–æ –≤ –Ω–µ–∫–æ—Ç–æ—Ä—ã—Ö —Å–ª—É—á–∞—è—Ö, –Ω–æ –∏–Ω–æ–≥–¥–∞ - —ç—Ç–æ –Ω–µ –∏–¥–µ–∞–ª—å–Ω–æ. –ù–∞–ø—Ä–∏–º–µ—Ä, –∫–æ–≥–¥–∞ –≤—ã –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç–µ –≤–µ—Å—å –∫–æ–º–ø–æ–Ω–µ–Ω—Ç <code>&lt;App&gt;</code>, —Å–æ–¥–µ—Ä–∂–∞—â–∏–π –±–æ–ª—å—à–æ–µ –¥–µ—Ä–µ–≤–æ —Å –º–Ω–æ–∂–µ—Å—Ç–≤–æ–º –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —É –∫–æ—Ç–æ—Ä—ã—Ö –µ—Å—Ç—å –¥–æ—á–µ—Ä–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã –∏ —Ç.–¥. –£ –≤—Å–µ—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Å—Ä–∞–±–æ—Ç–∞—é—Ç —Ö—É–∫–∏ –∂–∏–∑–Ω–µ–Ω–Ω–æ–≥–æ —Ü–∏–∫–ª–∞, –≥–¥–µ –º–æ–≥—É—Ç –±—ã—Ç—å –æ–±—Ä–∞—â–µ–Ω–∏—è –∫ API –∏ —Ç.–¥.</p> <p>–ï—Å–ª–∏ –≤—ã –∏—Å–ø–æ–ª—å–∑—É–µ—Ç–µ Jest, –µ–≥–æ –º–æ—â–Ω–∞—è —Å–∏—Å—Ç–µ–º–∞ –¥–ª—è –º–æ–∫–æ–≤ –ø–æ–∑–≤–æ–ª—è–µ—Ç —ç–ª–µ–≥–∞–Ω—Ç–Ω–æ —Ä–µ—à–∏—Ç—å —ç—Ç—É –ø—Ä–æ–±–ª–µ–º—É. –í—ã –º–æ–∂–µ—Ç–µ –ø—Ä–æ—Å—Ç–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–∫ –¥–ª—è –¥–æ—á–µ—Ä–Ω–∏—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –≤ –Ω–∞—à–µ–º —Å–ª—É—á–∞–µ –¥–ª—è <code>&lt;NestedRoute&gt;</code>. –ò—Å–ø–æ–ª—å–∑—É–µ–º —Å–ª–µ–¥—É—é—â–∏–π –º–æ–∫ –∏ —Ç–µ—Å—Ç—ã –≤—Å—ë –µ—â—ë –ø—Ä–æ–π–¥—É—Ç –ø—Ä–æ–≤–µ—Ä–∫—É:</p> <div class="language-js extra-class"><pre class="language-js"><code>jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&quot;@/components/NestedRoute.vue&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;NestedRoute&quot;</span><span class="token punctuation">,</span>
  template<span class="token punctuation">:</span> <span class="token string">&quot;&lt;div /&gt;&quot;</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>
</code></pre></div><h2 id="–∏—Å–ø–æn—å–∑—É–µ–º-–º–æ–∫-–¥n—è-—Ä–æ—É—Ç–µ—Ä–∞"><a href="#–∏—Å–ø–æn—å–∑—É–µ–º-–º–æ–∫-–¥n—è-—Ä–æ—É—Ç–µ—Ä–∞" class="header-anchor">#</a> –ò—Å–ø–æ–ª—å–∑—É–µ–º –º–æ–∫ –¥–ª—è —Ä–æ—É—Ç–µ—Ä–∞</h2> <p>–ò–Ω–æ–≥–¥–∞ –Ω–∞—Å—Ç–æ—è—â–∏–π —Ä–æ—É—Ç–µ—Ä –Ω–µ –Ω—É–∂–µ–Ω. –î–∞–≤–∞–π—Ç–µ –æ–±–Ω–æ–≤–∏–º <code>&lt;NestedRoute&gt;</code>, —á—Ç–æ–±—ã –æ–Ω –ø–æ–∫–∞–∑—ã–≤–∞–ª –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –≤ –∑–∞–≤–∏—Å–∏–º–æ—Å—Ç–∏ –æ—Ç —Ç–µ–∫—É—â–µ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞. –í —ç—Ç–æ—Ç —Ä–∞–∑ –º—ã –ø—Ä–∏–º–µ–Ω–∏–º –ø–æ–¥—Ö–æ–¥ TDD –¥–ª—è —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–∏ —Ç–µ—Å—Ç–∞. –í–æ—Ç –±–∞–∑–æ–≤—ã–π —Ç–µ—Å—Ç, –∫–æ—Ç–æ—Ä—ã–π –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∫–æ–º–ø–æ–Ω–µ–Ω—Ç –∏ –¥–µ–ª–∞–µ—Ç –ø—Ä–æ–≤–µ—Ä–∫—É:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> mount <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@vue/test-utils&quot;</span>
<span class="token keyword">import</span> NestedRoute <span class="token keyword">from</span> <span class="token string">&quot;@/components/NestedRoute.vue&quot;</span>
<span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">&quot;@/routes.js&quot;</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;NestedRoute&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;–æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> username <span class="token operator">=</span> <span class="token string">&quot;alice&quot;</span>
    <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>NestedRoute<span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;.username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>–£ –Ω–∞—Å –µ—â—ë –Ω–µ—Ç <code>&lt;div class=&quot;username&quot;&gt;</code>, –ø–æ—ç—Ç–æ–º—É –∑–∞–ø—É—Å–∫ —Ç–µ—Å—Ç–∞ –≤—ã–¥–∞—Å—Ç –æ—à–∏–±–∫—É:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>FAIL  tests/unit/NestedRoute.spec.js
  NestedRoute
    ‚úï –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ <span class="token punctuation">(</span>25ms<span class="token punctuation">)</span>

  ‚óè NestedRoute ‚Ä∫ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞

    <span class="token punctuation">[</span>vue-test-utils<span class="token punctuation">]</span>: <span class="token function">find</span> did not <span class="token builtin class-name">return</span> .username, cannot call text<span class="token punctuation">(</span><span class="token punctuation">)</span> on empty Wrapper
</code></pre></div><p>–û–±–Ω–æ–≤–∏–º <code>&lt;NestedRoute&gt;</code>:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>template</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span><span class="token punctuation">&gt;</span></span>
    Nested Route
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>div</span> <span class="token attr-name">class</span><span class="token attr-value"><span class="token punctuation">=</span><span class="token punctuation">&quot;</span>username<span class="token punctuation">&quot;</span></span><span class="token punctuation">&gt;</span></span>
      {{ $route.params.username }}
    <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
  <span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>div</span><span class="token punctuation">&gt;</span></span>
<span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>template</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>–¢–µ–ø–µ—Ä—å —Ç–µ—Å—Ç —É–ø–∞–¥—ë—Ç —Å–æ —Å–ª–µ–¥—É—é—â–µ–π –æ—à–∏–±–∫–æ–π:</p> <div class="language-bash extra-class"><pre class="language-bash"><code>FAIL  tests/unit/NestedRoute.spec.js
  NestedRoute
    ‚úï –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞ <span class="token punctuation">(</span>17ms<span class="token punctuation">)</span>

  ‚óè NestedRoute ‚Ä∫ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞

    TypeError: Cannot <span class="token builtin class-name">read</span> property <span class="token string">'params'</span> of undefined
</code></pre></div><p>–≠—Ç–æ –ø–æ—Ç–æ–º—É, —á—Ç–æ <code>$route</code> –Ω–µ —Å—É—â–µ—Å—Ç–≤—É–µ—Ç. –ú—ã –º–æ–∂–µ–º –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –Ω–∞—Å—Ç–æ—è—â–∏–π —Ä–æ—É—Ç–µ—Ä, –Ω–æ –≤ —ç—Ç–æ–º —Å–ª—É—á–∞–µ –ª–µ–≥—á–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>mocks</code> –≤ –æ–ø—Ü–∏–∏ –º–æ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏—è:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;–æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞–µ—Ç –∏–º—è –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—è –∏–∑ —Å—Ç—Ä–æ–∫–∏ –∑–∞–ø—Ä–æ—Å–∞&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> username <span class="token operator">=</span> <span class="token string">&quot;alice&quot;</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">mount</span><span class="token punctuation">(</span>NestedRoute<span class="token punctuation">,</span> <span class="token punctuation">{</span>
    global<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      mocks<span class="token punctuation">:</span> <span class="token punctuation">{</span>
        $route<span class="token punctuation">:</span> <span class="token punctuation">{</span>
          params<span class="token punctuation">:</span> <span class="token punctuation">{</span> username <span class="token punctuation">}</span>
        <span class="token punctuation">}</span>
      <span class="token punctuation">}</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span><span class="token function">find</span><span class="token punctuation">(</span><span class="token string">&quot;.username&quot;</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">text</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toBe</span><span class="token punctuation">(</span>username<span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>–¢–µ–ø–µ—Ä—å —Ç–µ—Å—Ç –ø—Ä–æ—Ö–æ–¥–∏—Ç –ø—Ä–æ–≤–µ—Ä–∫—É. –í —ç—Ç–æ–º —Å–ª—É—á–∞–µ –Ω–∞–º –Ω–µ –Ω—É–∂–Ω–æ –ø–µ—Ä–µ—Ö–æ–¥–∏—Ç—å –∫—É–¥–∞-—Ç–æ –∏–ª–∏ –¥–µ–ª–∞—Ç—å —á—Ç–æ-–ª–∏–±–æ —Å–≤—è–∑–∞–Ω–Ω–æ–µ —Å —Ä–µ–∞–ª–∏–∑–∞—Ü–∏–µ–π —Ä–æ—É—Ç–µ—Ä–∞, –ø–æ—ç—Ç–æ–º—É –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <code>mocks</code> –æ–ø—Ä–∞–≤–¥–∞–Ω–æ. –ù–∞–º –Ω–µ –≤–∞–∂–Ω–æ –æ—Ç–∫—É–¥–∞ –±–µ—Ä—ë—Ç—Å—è <code>username</code> –≤ —Å—Ç—Ä–æ–∫–µ –ø–æ–∏—Å–∫–∞, –Ω–∞–º –≤–∞–∂–Ω–æ —Ç–æ–ª—å–∫–æ —Ç–æ, —á—Ç–æ –æ–Ω–æ —Ç–∞–º –µ—Å—Ç—å.</p> <p>–ò–Ω–æ–≥–¥–∞ —Å–µ—Ä–≤–µ—Ä –±—É–¥–µ—Ç –æ–±—Ä–∞–±–∞—Ç—ã–≤–∞—Ç—å —á–∞—Å—Ç—å —Ä–æ—É—Ç–∏–Ω–≥–∞, –≤ –æ—Ç–ª–∏—á–∏–µ –æ—Ç –∫–ª–∏–µ–Ω—Ç—Å–∫–æ–π –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ü–∏–∏, —Å –ø–æ–º–æ—â—å—é Vue Router. –í —Ç–∞–∫–∏—Ö —Å–ª—É—á–∞—è—Ö –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å <code>mocks</code> –¥–ª—è —É—Å—Ç–∞–Ω–æ–≤–∫–∏ –ø–æ–∏—Å–∫–æ–≤–æ–π —Å—Ç—Ä–æ–∫–∏ –≤ —Ç–µ—Å—Ç–∞—Ö, —è–≤–ª—è–µ—Ç—Å—è —Ö–æ—Ä–æ—à–µ–π –∞–ª—å—Ç–µ—Ä–Ω–∞—Ç–∏–≤–æ–π –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏—è —Ä–µ–∞–ª—å–Ω–æ–≥–æ —ç–∫–∑–µ–º–ø–ª—è—Ä–∞ Vue Router.</p> <h2 id="—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-–¥n—è-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-—Ä–æ—É—Ç–µ—Ä-—Ö—É–∫–æ–≤"><a href="#—Å—Ç—Ä–∞—Ç–µ–≥–∏—è-–¥n—è-—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è-—Ä–æ—É—Ç–µ—Ä-—Ö—É–∫–æ–≤" class="header-anchor">#</a> –°—Ç—Ä–∞—Ç–µ–≥–∏—è –¥–ª—è —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è —Ä–æ—É—Ç–µ—Ä —Ö—É–∫–æ–≤</h2> <p>Vue Router –ø—Ä–µ–¥–æ—Å—Ç–∞–≤–ª—è–µ—Ç –Ω–µ—Å–∫–æ–ª—å–∫–æ —Ç–∏–ø–æ–≤ —Ö—É–∫–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –Ω–∞–∑—ã–≤–∞—é—Ç—Å—è <a href="https://router.vuejs.org/ru/guide/advanced/navigation-guards.html" target="_blank" rel="noopener noreferrer">–Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–º–∏ —Ö—É–∫–∞–º–∏
<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>. –î–≤–∞ —Ç–∞–∫–∏—Ö –ø—Ä–∏–º–µ—Ä–∞:</p> <ol><li>–ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞ (<code>router.beforeEach</code>). –û–±—ä—è–≤–ª—è—é—Ç—Å—è –≤ —ç–∫–∑–µ–º–ø–ª—è—Ä–µ —Ä–æ—É—Ç–µ—Ä–∞.</li> <li>–•—É–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Ç–∞–∫–∏–µ –∫–∞–∫ <code>beforeRouteEnter</code>. –û–±—ä—è–≤–ª—è—é—Ç—Å—è –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö.</li></ol> <p>–ü—Ä–æ–≤–µ—Ä–∫–∞ –ø—Ä–∞–≤–∏–ª—å–Ω–æ—Å—Ç–∏ –∏—Ö —Ä–∞–±–æ—Ç—ã –æ–±—ã—á–Ω–æ —è–≤–ª—è–µ—Ç—Å—è –∑–∞–¥–∞—á–µ–π –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω–æ–≥–æ —Ç–µ—Å—Ç–∞, –ø–æ—Å–∫–æ–ª—å–∫—É –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –¥–æ–ª–∂–µ–Ω –ø–µ—Ä–µ–º–µ—â–∞—Ç—å—Å—è –æ—Ç –æ–¥–Ω–æ–≥–æ –º–∞—Ä—à—Ä—É—Ç–∞ –∫ –¥—Ä—É–≥–æ–º—É. –¢–µ–º –Ω–µ –º–µ–Ω–µ–µ –≤—ã —Ç–∞–∫–∂–µ –º–æ–∂–µ—Ç–µ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –º–æ–¥—É–ª—å–Ω—ã–µ —Ç–µ—Å—Ç—ã, —á—Ç–æ–±—ã –ø—Ä–æ–≤–µ—Ä–∏—Ç—å, –ø—Ä–∞–≤–∏–ª—å–Ω–æ –ª–∏ —Ä–∞–±–æ—Ç–∞—é—Ç —Ñ—É–Ω–∫—Ü–∏–∏, –≤—ã–∑—ã–≤–∞–µ–º—ã–µ –≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ö—É–∫–∞—Ö, –∏ –ø–æ–ª—É—á–∏—Ç—å –±–æ–ª–µ–µ –±—ã—Å—Ç—Ä—ã–µ –æ—Ç–∑—ã–≤—ã –æ –ø–æ—Ç–µ–Ω—Ü–∏–∞–ª—å–Ω—ã—Ö –æ—à–∏–±–∫–∞—Ö. –í–æ—Ç –Ω–µ–∫–æ—Ç–æ—Ä—ã–µ —Å—Ç—Ä–∞—Ç–µ–≥–∏–∏ –ø–æ –æ—Ç–¥–µ–ª–µ–Ω–∏—é –ª–æ–≥–∏–∫–∏ –æ—Ç —Ö—É–∫–æ–≤ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ –∏ –Ω–∞–ø–∏—Å–∞–Ω–∏—é –º–æ–¥—É–ª—å–Ω—ã—Ö —Ç–µ—Å—Ç–æ–≤ –≤–æ–∫—Ä—É–≥ –Ω–∏—Ö.</p> <h2 id="–≥n–æ–±–∞n—å–Ω—ã–µ-—Ö—É–∫–∏-–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è-–ø–µ—Ä–µ—Ö–æ–¥–∞"><a href="#–≥n–æ–±–∞n—å–Ω—ã–µ-—Ö—É–∫–∏-–∑–∞–≤–µ—Ä—à–µ–Ω–∏—è-–ø–µ—Ä–µ—Ö–æ–¥–∞" class="header-anchor">#</a> –ì–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏ –∑–∞–≤–µ—Ä—à–µ–Ω–∏—è –ø–µ—Ä–µ—Ö–æ–¥–∞</h2> <p>–ü—Ä–µ–¥—Å—Ç–∞–≤–∏–º: —É –≤–∞—Å –µ—Å—Ç—å —Ñ—É–Ω–∫—Ü–∏—è <code>bustCache</code>, –∫–æ—Ç–æ—Ä–∞—è –¥–æ–ª–∂–Ω–∞ –≤—ã–∑—ã–≤–∞—Ç—å—Å—è –Ω–∞ –∫–∞–∂–¥–æ–º –º–∞—Ä—à—Ä—É—Ç–µ, —Å–æ–¥–µ—Ä–∂–∞—â–∏–º –º–µ—Ç–∞ –ø–æ–ª–µ <code>shouldBustCache</code>. –í–∞—à–∏ –ø—É—Ç–∏ –≤—ã–≥–ª—è–¥–µ–ª–∏ –±—ã –ø—Ä–∏–º–µ—Ä–Ω–æ —Ç–∞–∫:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> NestedRoute <span class="token keyword">from</span> <span class="token string">&quot;@/components/NestedRoute.vue&quot;</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">[</span>
  <span class="token punctuation">{</span>
    path<span class="token punctuation">:</span> <span class="token string">&quot;/nested-route&quot;</span><span class="token punctuation">,</span>
    component<span class="token punctuation">:</span> NestedRoute<span class="token punctuation">,</span>
    meta<span class="token punctuation">:</span> <span class="token punctuation">{</span>
      shouldBustCache<span class="token punctuation">:</span> <span class="token boolean">true</span>
    <span class="token punctuation">}</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">]</span>
</code></pre></div><p>–ò—Å–ø–æ–ª—å–∑—É—è –º–µ—Ç–∞ –ø–æ–ª—è <code>shouldBustCache</code>, –≤—ã —Ö–æ—Ç–∏—Ç–µ –æ—á–∏—Å—Ç–∏—Ç—å —Ç–µ–∫—É—â–∏–π –∫—ç—à, —á—Ç–æ–±—ã –≥–∞—Ä–∞–Ω—Ç–∏—Ä–æ–≤–∞—Ç—å, —á—Ç–æ –ø–æ–ª—å–∑–æ–≤–∞—Ç–µ–ª—å –Ω–µ –ø–æ–ª—É—á–∏—Ç —É—Å—Ç–∞—Ä–µ–≤—à–∏–µ –¥–∞–Ω–Ω—ã–µ. –†–µ–∞–ª–∏–∑–∞—Ü–∏—è –º–æ–∂–µ—Ç –≤—ã–≥–ª—è–¥–µ—Ç—å —Ç–∞–∫:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> Vue <span class="token keyword">from</span> <span class="token string">&quot;vue&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> createRouter<span class="token punctuation">,</span> createMemoryHistory <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;vue-router&quot;</span>
<span class="token keyword">import</span> routes <span class="token keyword">from</span> <span class="token string">&quot;./routes.js&quot;</span>
<span class="token keyword">import</span> <span class="token punctuation">{</span> bustCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;./bust-cache.js&quot;</span>

<span class="token keyword">const</span> router <span class="token operator">=</span> <span class="token function">createRouter</span><span class="token punctuation">(</span><span class="token punctuation">{</span> 
  history<span class="token punctuation">:</span> <span class="token function">createMemoryHistory</span><span class="token punctuation">(</span><span class="token punctuation">)</span><span class="token punctuation">,</span>
  routes 
<span class="token punctuation">}</span><span class="token punctuation">)</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>matched<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">record</span> <span class="token operator">=&gt;</span> record<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>shouldBustCache<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">bustCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre></div><p>–í –Ω–∞—à–µ–º –º–æ–¥—É–ª—å–Ω–æ–º —Ç–µ—Å—Ç–µ, –≤—ã <strong>–º–æ–∂–µ—Ç–µ</strong> –∏–º–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —ç–∫–∑–µ–º–ø–ª—è—Ä —Ä–æ—É—Ç–µ—Ä–∞ –∏ –ø–æ–ø—ã—Ç–∞—Ç—å—Å—è –≤—ã–∑–≤–∞—Ç—å <code>beforeEach</code>, –Ω–∞–ø–∏—Å–∞–≤ <code>router.beforeHooks[0]()</code>. –≠—Ç–æ –ø—Ä–∏–≤–µ–¥—ë—Ç –∫ –æ—à–∏–±–∫–µ –≤ —Å—Ç—Ä–æ–∫–µ —Å <code>next</code>, —Ç–∞–∫ –∫–∞–∫ –≤—ã –Ω–µ –ø–µ—Ä–µ–¥–∞–ª–∏ –ø—Ä–∞–≤–∏–ª—å–Ω—ã–µ –∞—Ä–≥—É–º–µ–Ω—Ç—ã. –í–º–µ—Å—Ç–æ —ç—Ç–æ–≥–æ –ø—Ä–∏–º–µ–Ω—è–µ—Ç—Å—è —Å—Ç—Ä–∞—Ç–µ–≥–∏—è, –ø—Ä–∏ –∫–æ—Ç–æ—Ä–æ–π –Ω—É–∂–Ω–æ –æ—Ç–¥–µ–ª–∏—Ç—å –∏ –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ —ç–∫—Å–ø–æ—Ä—Ç–∏—Ä–æ–≤–∞—Ç—å —Ö—É–∫ –Ω–∞–≤–∏–≥–∞—Ü–∏–∏ <code>beforeEach</code>, –ø–µ—Ä–µ–¥ –µ–≥–æ –ø–æ–¥–∫–ª—é—á–µ–Ω–∏–µ–º –∫ —Ä–æ—É—Ç–µ—Ä—É. –ö–∞–∫ –Ω–∞—Å—á—ë—Ç —Ç–∞–∫–æ–≥–æ:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">export</span> <span class="token keyword">function</span> <span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
  <span class="token keyword">if</span> <span class="token punctuation">(</span>to<span class="token punctuation">.</span>matched<span class="token punctuation">.</span><span class="token function">some</span><span class="token punctuation">(</span><span class="token parameter">record</span> <span class="token operator">=&gt;</span> record<span class="token punctuation">.</span>meta<span class="token punctuation">.</span>shouldBustCache<span class="token punctuation">)</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">bustCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
  <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span>

router<span class="token punctuation">.</span><span class="token function">beforeEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token function">beforeEach</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token keyword">export</span> <span class="token keyword">default</span> router
</code></pre></div><p>–¢–µ–ø–µ—Ä—å –ø–∏—Å–∞—Ç—å —Ç–µ—Å—Ç—ã –ª–µ–≥–∫–æ, —Ö–æ—Ç—å –∏ –Ω–µ–º–Ω–æ–≥–æ –¥–æ–ª–≥–æ:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token keyword">import</span> <span class="token punctuation">{</span> beforeEach <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/router.js&quot;</span>
<span class="token keyword">import</span> mockModule <span class="token keyword">from</span> <span class="token string">&quot;@/bust-cache.js&quot;</span>

jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&quot;@/bust-cache.js&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> bustCache<span class="token punctuation">:</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">describe</span><span class="token punctuation">(</span><span class="token string">&quot;beforeEach&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token function">afterEach</span><span class="token punctuation">(</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    mockModule<span class="token punctuation">.</span>bustCache<span class="token punctuation">.</span><span class="token function">mockClear</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;–æ–±–Ω—É–ª—è–µ—Ç –∫—ç—à –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ /user&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> to <span class="token operator">=</span> <span class="token punctuation">{</span>
      matched<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> meta<span class="token punctuation">:</span> <span class="token punctuation">{</span> shouldBustCache<span class="token punctuation">:</span> <span class="token boolean">true</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> next <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">beforeEach</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>mockModule<span class="token punctuation">.</span>bustCache<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>

  <span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;–æ–±–Ω—É–ª—è–µ—Ç –∫—ç—à –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –Ω–∞ /user&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
    <span class="token keyword">const</span> to <span class="token operator">=</span> <span class="token punctuation">{</span>
      matched<span class="token punctuation">:</span> <span class="token punctuation">[</span><span class="token punctuation">{</span> meta<span class="token punctuation">:</span> <span class="token punctuation">{</span> shouldBustCache<span class="token punctuation">:</span> <span class="token boolean">false</span> <span class="token punctuation">}</span> <span class="token punctuation">}</span><span class="token punctuation">]</span>
    <span class="token punctuation">}</span>
    <span class="token keyword">const</span> next <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

    <span class="token function">beforeEach</span><span class="token punctuation">(</span>to<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span>

    <span class="token function">expect</span><span class="token punctuation">(</span>mockModule<span class="token punctuation">.</span>bustCache<span class="token punctuation">)</span><span class="token punctuation">.</span>not<span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">expect</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>–ì–ª–∞–≤–Ω–æ–µ —á—Ç–æ –Ω–∞—Å –∏–Ω—Ç–µ—Ä–µ—Å—É–µ—Ç - —ç—Ç–æ —Ç–æ, —á—Ç–æ –º—ã –ø—Ä–∏–º–µ–Ω—è–µ–º –º–æ–∫ –¥–ª—è –≤—Å–µ–≥–æ –º–æ–¥—É–ª—è —Å –ø–æ–º–æ—â—å—é <code>jest.mock</code>, –∏ —Å–±—Ä–∞—Å—ã–≤–∞–µ–º –º–æ–∫ —Å –ø–æ–º–æ—â—å—é —Ö—É–∫–∞ <code>afterEach</code>. –≠–∫—Å–ø–æ—Ä—Ç–∏—Ä—É—è <code>beforeEach</code>, –∫–∞–∫ –æ–±—ã—á–Ω—É—é, —Ä–∞–∑–¥–µ–ª—ë–Ω–Ω—É—é —Ñ—É–Ω–∫—Ü–∏—é JavaScript, —ç—Ç–æ —Å—Ç–∞–Ω–æ–≤–∏—Ç—Å—è –±–∞–Ω–∞–ª—å–Ω–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å.</p> <p>–ß—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ —Ö—É–∫ –Ω–∞ —Å–∞–º–æ–º –¥–µ–ª–µ –≤—ã–∑—ã–≤–∞–µ—Ç <code>bustCache</code> –∏ –æ—Ç–æ–±—Ä–∞–∂–∞–µ—Ç —Å–∞–º—ã–µ –ø–æ—Å–ª–µ–¥–Ω–∏–µ –¥–∞–Ω–Ω—ã–µ, –º–æ–∂–Ω–æ –∏—Å–ø–æ–ª—å–∑–æ–≤–∞—Ç—å –∏–Ω—Å—Ç—Ä—É–º–µ–Ω—Ç —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è e2e, —Ç–∞–∫–æ–π, –∫–∞–∫ <a href="https://www.cypress.io/" target="_blank" rel="noopener noreferrer">Cypress.io<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>, –∫–æ—Ç–æ—Ä—ã–π –ø–æ—Å—Ç–∞–≤–ª—è–µ—Ç—Å—è —Å –ø—Ä–∏–ª–æ–∂–µ–Ω–∏—è–º–∏, —Å–æ–∑–¥–∞–Ω–Ω—ã–º–∏ —Å –∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ–º vue-cli.</p> <h2 id="—Ö—É–∫–∏-–¥n—è-–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤"><a href="#—Ö—É–∫–∏-–¥n—è-–∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö-–∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤" class="header-anchor">#</a> –•—É–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤</h2> <p>–•—É–∫–∏ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã—Ö –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤ —Ç–∞–∫–∂–µ –ª–µ–≥–∫–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å, –µ—Å–ª–∏ —Ä–∞—Å—Å–º–∞—Ç—Ä–∏–≤–∞—Ç—å –∏—Ö, –∫–∞–∫ –æ–±—ã—á–Ω—ã–µ —Ñ—É–Ω–∫—Ü–∏–∏ JavaScript. –î–æ–ø—É—Å—Ç–∏–º, –º—ã –¥–æ–±–∞–≤–∏–ª–∏ —Ö—É–∫ <code>beforeRouteLeave</code> –∫ <code>&lt;NestedRoute&gt;</code>:</p> <div class="language-vue extra-class"><pre class="language-vue"><code><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;</span>script</span><span class="token punctuation">&gt;</span></span><span class="token script"><span class="token language-javascript">
<span class="token keyword">import</span> <span class="token punctuation">{</span> bustCache <span class="token punctuation">}</span> <span class="token keyword">from</span> <span class="token string">&quot;@/bust-cache.js&quot;</span>
<span class="token keyword">export</span> <span class="token keyword">default</span> <span class="token punctuation">{</span>
  name<span class="token punctuation">:</span> <span class="token string">&quot;NestedRoute&quot;</span><span class="token punctuation">,</span>

  <span class="token function">beforeRouteLeave</span><span class="token punctuation">(</span><span class="token parameter">to<span class="token punctuation">,</span> <span class="token keyword">from</span><span class="token punctuation">,</span> next</span><span class="token punctuation">)</span> <span class="token punctuation">{</span>
    <span class="token function">bustCache</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
    <span class="token function">next</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token punctuation">}</span>
<span class="token punctuation">}</span>
</span></span><span class="token tag"><span class="token tag"><span class="token punctuation">&lt;/</span>script</span><span class="token punctuation">&gt;</span></span>
</code></pre></div><p>–ú—ã –º–æ–∂–µ–º —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç–æ —Ç–∞–∫–∂–µ, –∫–∞–∫ –∏ –≥–ª–æ–±–∞–ª—å–Ω—ã–µ —Ö—É–∫–∏:</p> <div class="language-js extra-class"><pre class="language-js"><code><span class="token comment">// ...</span>
<span class="token keyword">import</span> NestedRoute <span class="token keyword">from</span> <span class="token string">&quot;@/components/NestedRoute.vue&quot;</span>
<span class="token keyword">import</span> mockModule <span class="token keyword">from</span> <span class="token string">&quot;@/bust-cache.js&quot;</span>

jest<span class="token punctuation">.</span><span class="token function">mock</span><span class="token punctuation">(</span><span class="token string">&quot;@/bust-cache.js&quot;</span><span class="token punctuation">,</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">(</span><span class="token punctuation">{</span> bustCache<span class="token punctuation">:</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token punctuation">}</span><span class="token punctuation">)</span><span class="token punctuation">)</span>

<span class="token function">it</span><span class="token punctuation">(</span><span class="token string">&quot;–≤—ã–∑—ã–≤–∞–µ—Ç bustCache –∏ next –ø—Ä–∏ –ø–µ—Ä–µ—Ö–æ–¥–µ –∏–∑ –º–∞—Ä—à—Ä—É—Ç–∞&quot;</span><span class="token punctuation">,</span> <span class="token keyword">async</span> <span class="token punctuation">(</span><span class="token punctuation">)</span> <span class="token operator">=&gt;</span> <span class="token punctuation">{</span>
  <span class="token keyword">const</span> wrapper <span class="token operator">=</span> <span class="token function">shallowMount</span><span class="token punctuation">(</span>NestedRoute<span class="token punctuation">)</span><span class="token punctuation">;</span>
  <span class="token keyword">const</span> next <span class="token operator">=</span> jest<span class="token punctuation">.</span><span class="token function">fn</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  NestedRoute<span class="token punctuation">.</span><span class="token function">beforeRouteLeave</span><span class="token punctuation">.</span><span class="token function">call</span><span class="token punctuation">(</span>wrapper<span class="token punctuation">.</span>vm<span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> <span class="token keyword">undefined</span><span class="token punctuation">,</span> next<span class="token punctuation">)</span>
  <span class="token keyword">await</span> wrapper<span class="token punctuation">.</span>vm<span class="token punctuation">.</span><span class="token function">$nextTick</span><span class="token punctuation">(</span><span class="token punctuation">)</span>

  <span class="token function">expect</span><span class="token punctuation">(</span>mockModule<span class="token punctuation">.</span>bustCache<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
  <span class="token function">expect</span><span class="token punctuation">(</span>next<span class="token punctuation">)</span><span class="token punctuation">.</span><span class="token function">toHaveBeenCalled</span><span class="token punctuation">(</span><span class="token punctuation">)</span>
<span class="token punctuation">}</span><span class="token punctuation">)</span>
</code></pre></div><p>–•–æ—Ç—è —ç—Ç–æ—Ç —Å—Ç–∏–ª—å –º–æ–¥—É–ª—å–Ω–æ–≥–æ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏—è –º–æ–∂–µ—Ç –±—ã—Ç—å –ø–æ–ª–µ–∑–µ–Ω –¥–ª—è –Ω–µ–º–µ–¥–ª–µ–Ω–Ω–æ–π –æ–±—Ä–∞—Ç–Ω–æ–π —Å–≤—è–∑–∏ –≤–æ –≤—Ä–µ–º—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏, —Ç–∞–∫ –∫–∞–∫ –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä—ã –∏ –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ö—É–∫–∏ —á–∞—Å—Ç–æ –≤–∑–∞–∏–º–æ–¥–µ–π—Å—Ç–≤—É—é—Ç —Å –Ω–µ—Å–∫–æ–ª—å–∫–∏–º–∏ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞–º–∏ –¥–ª—è –¥–æ—Å—Ç–∏–∂–µ–Ω–∏—è –Ω–µ–∫–æ—Ç–æ—Ä–æ–≥–æ —ç—Ñ—Ñ–µ–∫—Ç–∞, –≤–∞–º —Ç–∞–∫–∂–µ –Ω–µ–æ–±—Ö–æ–¥–∏–º–æ –ø—Ä–æ–≤–µ—Å—Ç–∏ –∏–Ω—Ç–µ–≥—Ä–∞—Ü–∏–æ–Ω–Ω—ã–µ —Ç–µ—Å—Ç—ã, —á—Ç–æ–±—ã —É–±–µ–¥–∏—Ç—å—Å—è, —á—Ç–æ –≤—Å–µ —Ä–∞–±–æ—Ç–∞–µ—Ç –¥–æ–ª–∂–Ω—ã–º –æ–±—Ä–∞–∑–æ–º.</p> <h2 id="–∑–∞–∫n—é—á–µ–Ω–∏–µ"><a href="#–∑–∞–∫n—é—á–µ–Ω–∏–µ" class="header-anchor">#</a> –ó–∞–∫–ª—é—á–µ–Ω–∏–µ</h2> <p>–í —ç—Ç–æ–º —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–µ —Ä–∞—Å—Å–º–æ—Ç—Ä–µ–ª–∏:</p> <ul><li>—Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, –∫–æ—Ç–æ—Ä—ã–µ –æ—Ç—Ä–∏—Å–æ–≤—ã–≤–∞—é—Ç—Å—è –ø–æ —É—Å–ª–æ–≤–∏—é —Å –ø–æ–º–æ—â—å—é Vue Router</li> <li>–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ –º–æ–∫–æ–≤ –¥–ª—è Vue –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–æ–≤, —Å –ø–æ–º–æ—â—å—é <code>jest.mock</code></li> <li>–æ—Ç—Å–æ–µ–¥–∏–Ω–µ–Ω–∏–µ –≥–ª–æ–±–∞–ª—å–Ω—ã—Ö –Ω–∞–≤–∏–≥–∞—Ü–∏–æ–Ω–Ω—ã—Ö —Ö—É–∫–æ–≤ –æ—Ç –º–∞—Ä—à—Ä—É—Ç–∏–∑–∞—Ç–æ—Ä–∞ –∏ –∏—Ö –Ω–µ–∑–∞–≤–∏—Å–∏–º–æ–µ —Ç–µ—Å—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ</li> <li>–∏—Å–ø–æ–ª—å–∑–æ–≤–∞–Ω–∏–µ <code>jest.mock</code> –¥–ª—è –º–æ–∫–æ–≤ –º–æ–¥—É–ª–µ–π</li></ul> <p>–ò—Å—Ö–æ–¥–Ω—ã–π –∫–æ–¥ –¥–ª—è —Ç–µ—Å—Ç–æ–≤ –Ω–∞ —ç—Ç–æ–π —Å—Ç—Ä–∞–Ω–∏—Ü–µ –º–æ–∂–Ω–æ –Ω–∞–π—Ç–∏ <a href="https://github.com/lmiller1990/vue-testing-handbook/tree/master/demo-app-vue-3/tests/unit/App.spec.js" target="_blank" rel="noopener noreferrer">–∑–¥–µ—Å—å<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a> –∏ <a href="https://github.com/lmiller1990/vue-testing-handbook/tree/master/demo-app-vue-3/tests/unit/NestedRoute.spec.js" target="_blank" rel="noopener noreferrer">–∑–¥–µ—Å—å<svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></a>.</p></div> <footer class="page-edit"><div class="edit-link"><a href="https://github.com/lmiller1990/vue-testing-handbook/edit/master/v3/ru/vue-router.md" target="_blank" rel="noopener noreferrer">–†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å —ç—Ç—É —Å—Ç—Ä–∞–Ω–∏—Ü—É –Ω–∞ GitHub</a> <svg xmlns="http://www.w3.org/2000/svg" aria-hidden="true" x="0px" y="0px" viewBox="0 0 100 100" width="15" height="15" class="icon outbound"><path fill="currentColor" d="M18.8,85.1h56l0,0c2.2,0,4-1.8,4-4v-32h-8v28h-48v-48h28v-8h-32l0,0c-2.2,0-4,1.8-4,4v56C14.8,83.3,16.6,85.1,18.8,85.1z"></path> <polygon fill="currentColor" points="45.7,48.7 51.3,54.3 77.2,28.5 77.2,37.2 85.2,37.2 85.2,14.9 62.8,14.9 62.8,22.9 71.5,22.9"></polygon></svg></div> <div class="last-updated"><span class="prefix">–ü–æ—Å–ª–µ–¥–Ω–µ–µ –æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ:</span> <span class="time">09.01.2021, 00:05:11</span></div></footer> <div class="page-nav"><p class="inner"><span class="prev">
      ‚Üê
      <a href="/vue-testing-handbook/v3/ru/vuex-in-components-mutations-and-actions.html" class="prev">Vuex –≤ –∫–æ–º–ø–æ–Ω–µ–Ω—Ç–∞—Ö - –º—É—Ç–∞—Ü–∏–∏ –∏ –¥–µ–π—Å—Ç–≤–∏—è</a></span> <span class="next"><a href="/vue-testing-handbook/v3/ru/composition-api.html">Composition API</a>
      ‚Üí
    </span></p></div> </main></div><div class="global-ui"></div></div>
    <script src="/vue-testing-handbook/assets/js/app.292bf6c3.js" defer></script><script src="/vue-testing-handbook/assets/js/3.bc1b40f4.js" defer></script><script src="/vue-testing-handbook/assets/js/2.f869874b.js" defer></script><script src="/vue-testing-handbook/assets/js/102.78757d8c.js" defer></script>
  </body>
</html>
